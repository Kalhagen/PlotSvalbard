<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define water type based on temperature and salinity — define_water_type • PlotSvalbard</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Define water type based on temperature and salinity — define_water_type" />

<meta property="og:description" content="Defines water type based on potential temperature and practical salinity data from a CTD. Default values are for Kongsfjorden" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PlotSvalbard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/PlotSvalbard_user_manual.html">PlotSvalbard - User Manual</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MikkoVihtakari/PlotSvalbard">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define water type based on temperature and salinity</h1>
    <small class="dont-index">Source: <a href='https://github.com/MikkoVihtakari/PlotSvalbard/blob/master/R/define_water_type.R'><code>R/define_water_type.R</code></a></small>
    <div class="hidden name"><code>define_water_type.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Defines water type based on potential temperature and practical salinity data from a CTD. Default values are for Kongsfjorden</p>
    
    </div>

    <pre class="usage"><span class='fu'>define_water_type</span>(<span class='no'>dt</span>, <span class='kw'>sal_col</span> <span class='kw'>=</span> <span class='st'>"sal"</span>, <span class='kw'>temp_col</span> <span class='kw'>=</span> <span class='st'>"temp"</span>,
  <span class='kw'>WM</span> <span class='kw'>=</span> <span class='no'>kongsfjord_watermasses</span>, <span class='kw'>bind</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dt</th>
      <td><p>Dataframe containing temperature and salinity information</p></td>
    </tr>
    <tr>
      <th>sal_col</th>
      <td><p>Character string giving the column name containing salinity data</p></td>
    </tr>
    <tr>
      <th>temp_col</th>
      <td><p>Character string giving the column name containing temperature data. Should be potential temperature, if the default <code>WM</code> is used.</p></td>
    </tr>
    <tr>
      <th>WM</th>
      <td><p>Dataframe giving the water mass definitions.</p></td>
    </tr>
    <tr>
      <th>bind</th>
      <td><p>Should the water type information be <code><a href='https://www.rdocumentation.org/packages/base/topics/cbind'>cbind</a></code> with <code>dt</code> (<code>TRUE</code>) or should a character vector containing water type abbreviations returned instead (<code>FALSE</code>; default)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Water-types are useful in summarizing salinity, temperature and density characteristics of water masses. By default, the water types are returned after the definition in Cottier et al. (2005) with slight modifications to avoid overlaps of water types. <strong>Density</strong> boundaries have not been implemented as these seem to have relatively little meaning on Svalbard after limiting water types using temperature and salinity.</p>
<p><strong>Custom water type classifications</strong> can be defined using the <code>WM</code> argument. This argument should be a data frame containing the following column names: type, abb, sal.min, sal.max, temp.min, and temp.max. See the default <code>WM</code>, <a href='kongsfjord_watermasses.html'>kongsfjord_watermasses</a>, as an example. Rows in the data frame represent separate water types. The "type" column gives the name of the water mass and the "abb" column the abbreviation of the water mass (used in <code><a href='ts_plot.html'>ts_plot</a></code>). The water types are defined using <strong>rectangular</strong> boundaries on salinity (x) - temperature (y) coordinate system. The "sal.min" and "sal.max" columns give the minimum and maximum extent for the x-axis while the corresponding "temp.*" columns define the limits for the y-axis of the rectangles. The rectangles are rendered to polygons inside the function. If water types overlap, the water type that <strong>comes first</strong> in the <code>WM</code> data frame dominates and defines the water type for a point based on salinity and temperature. Consequently, <strong>one point cannot have more than one water type</strong>. When making the <code>WM</code> data frame, use <code>Inf</code> and <code>-Inf</code> for water types, which do not have positive and negative limits, respectively.</p>
<p>You can use the <a href='ts_plot.html'>TS diagram</a> to check that your custom water types are defined correctly. Note that most sources refer to <strong>potential temperatures</strong> and <strong>practical salinities</strong>. Make sure that your data use the same units and standards than the source when defining water types.</p>
<p>MarineDatabase also contains a pre-made <code>WM</code> data frame for the NPI's Rijpfjorden transect (<a href='rijpfjord_watermasses.html'>rijpfjord_watermasses</a>). The water types in this classification have been modified from Pérez-Hernández et al. (2017), which was originally made for the same region without the fjord. The changes include addition of Winter Cooled Water from Cottier et al. (2005) and exlusion of density in the categorization. Instead, salinity threshold of 34.87 for Atlantic and Arctic Intermediate Waters (AIW) was used. This decision is purely due to the difficulty of programming polygons in 3D space. It may cause very minor changes in water mass classification at the boundary of AIW and PSW.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Cottier F, Tverberg V, Inall M, Svendsen H, Nilsen F, Griffiths C (2005) Water mass modification in an Arctic fjord through cross-shelf exchange: The seasonal hydrography of Kongsfjorden, Svalbard. Journal of Geophysical Research, 110, C12005. doi:10.1029/2004JC002757</p>
<p>Pérez-Hernández M.D., Pickart R.S., Pavlov V. et al. (2017) The Atlantic Water boundary current north of Svalbard in late summer. Journal of Geophysical Research: Oceans, 122, 2269–2290. doi:10.1002/2016JC012486</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='ts_plot.html'>ts_plot</a></code>, the <a href='kongsfjord_watermasses.html'>kongsfjord_watermasses</a> data.frame ,the <a href='rijpfjord_watermasses.html'>rijpfjord_watermasses</a> data.frame</p>
<p>Other ts_plot: <code><a href='ctd_kongsfjord.html'>ctd_kongsfjord</a></code>,
  <code><a href='kongsfjord_watermasses.html'>kongsfjord_watermasses</a></code>,
  <code><a href='rijpfjord_watermasses.html'>rijpfjord_watermasses</a></code>,
  <code><a href='ts_plot.html'>ts_plot</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>dt</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>temp</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>, -<span class='fl'>1</span>, -<span class='fl'>0.8</span>), <span class='kw'>sal</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>34</span>, <span class='fl'>34.5</span>, <span class='fl'>34.9</span>)) <span class='co'># Make example data</span>
<span class='fu'>define_water_type</span>(<span class='no'>dt</span>) <span class='co'># returned as a factor</span></div><div class='output co'>#&gt; [1] Other ArW   WCW  
#&gt; Levels: AW TAW IW SW ArW WCW Other</div><div class='input'><span class='fu'>define_water_type</span>(<span class='no'>dt</span>, <span class='kw'>bind</span>  <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># returned as a data frame</span></div><div class='output co'>#&gt;   temp  sal watertype
#&gt; 1  1.0 34.0     Other
#&gt; 2 -1.0 34.5       ArW
#&gt; 3 -0.8 34.9       WCW</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Mikko Vihtakari</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Mikko Vihtakari.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

